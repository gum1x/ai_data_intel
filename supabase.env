# SUPABASE Environment Configuration for AI Intelligence System
# This configuration uses Supabase for database, auth, and storage (FREE tier)

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================
RUST_LOG=info
RUST_BACKTRACE=1
ENVIRONMENT=development
DEBUG=true

# =============================================================================
# SUPABASE CONFIGURATION (FREE TIER)
# =============================================================================
# Supabase Project Settings
SUPABASE_URL=https://eibtrlponekyrwbqcott.supabase.co
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpYnRybHBvbmVreXJ3YnFjb3R0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjA1MDE1MTgsImV4cCI6MjA3NjA3NzUxOH0.X2o7dF6YRfoDtWI7YkVg77v3I4f0bwFBqq8y8OGTpsY
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImVpYnRybHBvbmVreXJ3YnFjb3R0Iiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc2MDUwMTUxOCwiZXhwIjoyMDc2MDc3NTE4fQ.4LxPFMYoOnGZ_1ByYZISLq5L-3f7g3c2v5D56kysgFM

# Database (Supabase PostgreSQL)
DATABASE_URL=postgresql://postgres:PUbwY6pRqqp3RL/awMByqT9Rdpng8qPYxoD6+gnrweg=@db.eibtrlponekyrwbqcott.supabase.co:5432/postgres
SUPABASE_DB_URL=postgresql://postgres:PUbwY6pRqqp3RL/awMByqT9Rdpng8qPYxoD6+gnrweg=@db.eibtrlponekyrwbqcott.supabase.co:5432/postgres
POSTGRES_DB=postgres
POSTGRES_USER=postgres
POSTGRES_PASSWORD=PUbwY6pRqqp3RL/awMByqT9Rdpng8qPYxoD6+gnrweg=

# Supabase Auth
SUPABASE_AUTH_ENABLED=true
SUPABASE_JWT_SECRET=SPYnq5kW+jHOa6C0w01goNYMGWuQepLwCSHJBeFgHofDIqDdRBNiW2x8H+jAUF0F8v+tXkQEpiFRLbmjOt87ig==
SUPABASE_JWT_EXPIRY_HOURS=24

# Supabase Storage
SUPABASE_STORAGE_BUCKET=intelligence-data
SUPABASE_STORAGE_ENABLED=true

# Supabase Realtime
SUPABASE_REALTIME_ENABLED=true
SUPABASE_REALTIME_URL=wss://eibtrlponekyrwbqcott.supabase.co/realtime/v1/

# Redis Cache (Redis Cloud)
REDIS_URL=redis://default:nMeJnBpTATLVt2asHpl7s5ebtv3oC156@redis-12632.c257.us-east-1-3.ec2.redns.redis-cloud.com:12632
REDIS_PASSWORD=nMeJnBpTATLVt2asHpl7s5ebtv3oC156
REDIS_API_KEY=Ahhl3485bob14hjpj6fokvc3pucjowaz0z7ktprqvhp5snllqi
REDIS_HOST=redis-12632.c257.us-east-1-3.ec2.redns.redis-cloud.com
REDIS_PORT=12632
REDIS_USERNAME=default

# =============================================================================
# SECURITY CONFIGURATION (Supabase Integrated)
# =============================================================================
# JWT Configuration (Use Supabase JWT)
JWT_SECRET=SPYnq5kW+jHOa6C0w01goNYMGWuQepLwCSHJBeFgHofDIqDdRBNiW2x8H+jAUF0F8v+tXkQEpiFRLbmjOt87ig==
JWT_EXPIRY_HOURS=24

# Encryption Key (MUST be 32 characters)
ENCRYPTION_KEY=wog5OFIoGSzR9+V4RHRbVnk62J8IaZzNYYxUkRP7dVo=

# Additional Security Keys
API_SECRET_KEY=02d0c655ea455065afb449b03934c063f8d0889684c57143a5da3db0585b7481
SESSION_SECRET=pcmGn30BNhN9QjtqGviGBevrJKnP43BGPg4riXbLaQomkGh+AENYzH0fKhk0treK
CSRF_SECRET=Kgc6rK5MubjzgReGLNiG+H0KGXlj828M

# Security Configuration
SECURITY_SALT_ROUNDS=12
SECURITY_PASSWORD_MIN_LENGTH=12
SECURITY_REQUIRE_SPECIAL_CHARS=true
SECURITY_REQUIRE_NUMBERS=true
SECURITY_REQUIRE_UPPERCASE=true
SECURITY_REQUIRE_LOWERCASE=true

# API Security
RATE_LIMIT_REQUESTS=1000
RATE_LIMIT_WINDOW_SECONDS=3600
ENABLE_AUDIT_LOGGING=true

# Supabase RLS (Row Level Security)
SUPABASE_RLS_ENABLED=true

# =============================================================================
# AI PROVIDER API KEYS (FREE ALTERNATIVES)
# =============================================================================
# OpenAI (DISABLED - Costs money)
OPENAI_API_KEY=
OPENAI_MODEL=gpt-3.5-turbo
OPENAI_MAX_TOKENS=1000
OPENAI_TEMPERATURE=0.7

# Anthropic Claude (DISABLED - Costs money)
ANTHROPIC_API_KEY=
ANTHROPIC_MODEL=claude-3-haiku-20240307
ANTHROPIC_MAX_TOKENS=1000
ANTHROPIC_TEMPERATURE=0.7

# Google Gemini (FREE TIER AVAILABLE)
GOOGLE_API_KEY=
GOOGLE_MODEL=gemini-pro
GOOGLE_MAX_TOKENS=1000
GOOGLE_TEMPERATURE=0.7

# Hugging Face (FREE - Local Models)
HUGGINGFACE_API_KEY=
HUGGINGFACE_MODEL=microsoft/DialoGPT-small

# Cohere (DISABLED - Costs money)
COHERE_API_KEY=
COHERE_MODEL=command

# Together AI (DISABLED - Costs money)
TOGETHER_API_KEY=
TOGETHER_MODEL=meta-llama/Llama-2-7b-chat-hf

# =============================================================================
# LOCAL AI MODELS (FREE)
# =============================================================================
# Use local models instead of paid APIs
USE_LOCAL_MODELS=true
LOCAL_MODEL_PATH=./models/
LOCAL_MODEL_TYPE=ollama  # or llama.cpp, transformers

# Ollama (Free local AI)
OLLAMA_HOST=http://localhost:11434
OLLAMA_MODEL=llama2:7b
OLLAMA_MAX_TOKENS=1000
OLLAMA_TEMPERATURE=0.7

# =============================================================================
# TELEGRAM CONFIGURATION (YOUR APP)
# =============================================================================
# Telegram Bot API (FREE - Limited access)
TELEGRAM_BOT_TOKEN=

# Telegram Client API (YOUR APP - Full access)
TELEGRAM_API_ID=23337938
TELEGRAM_API_HASH=f49652eb9d10d48f2432770a55430d11
TELEGRAM_APP_TITLE=okhello
TELEGRAM_APP_SHORT_NAME=coolio
TELEGRAM_PHONE_NUMBER=
TELEGRAM_SESSION_STRING=
TELEGRAM_USE_TEST_DC=false  # Use production servers

# Telegram MTProto Servers
TELEGRAM_TEST_SERVER=149.154.167.40:443
TELEGRAM_PRODUCTION_SERVER=149.154.167.50:443
TELEGRAM_DC_ID=2

# Telegram Public Keys
TELEGRAM_TEST_PUBLIC_KEY=-----BEGIN RSA PUBLIC KEY-----
MIIBCgKCAQEAyMEdY1aR+sCR3ZSJrtztKTKqigvO/vBfqACJLZtS7QMgCGXJ6XIR
yy7mx66W0/sOFa7/1mAZtEoIokDP3ShoqF4fVNb6XeqgQfaUHd8wJpDWHcR2OFwv
plUUI1PLTktZ9uW2WE23b+ixNwJjJGwBDJPQEQFBE+vfmH0JP503wr5INS1poWg/
j25sIWeYPHYeOrFp/eXaqhISP6G+q2IeTaWTXpwZj4LzXq5YOpk4bYEQ6mvRq7D1
aHWfYmlEGepfaYR8Q0YqvvhYtMte3ITnuSJs171+GDqpdKcSwHnd6FudwGO4pcCO
j4WcDuXc2CTHgH8gFTNhp/Y8/SpDOhvn9QIDAQAB
-----END RSA PUBLIC KEY-----

TELEGRAM_PRODUCTION_PUBLIC_KEY=-----BEGIN RSA PUBLIC KEY-----
MIIBCgKCAQEA6LszBcC1LGzyr992NzE0ieY+BSaOW622Aa9Bd4ZHLl+TuFQ4lo4g
5nKaMBwK/BIb9xUfg0Q29/2mgIR6Zr9krM7HjuIcCzFvDtr+L0GQjae9H0pRB2OO
62cECs5HKhT5DZ98K33vmWiLowc621dQuwKWSQKjWf50XYFw42h21P2KXUGyp2y/
+aEyZ+uVgLLQbRA1dEjSDZ2iGRy12Mk5gpYc397aYp438fsJoHIgJ2lgMv5h7WY9
t6N/byY9Nw9p21Og3AoXSL2q/2IJ1WRUhebgAdGVMlV1fkuOQoEzR7EdpqtQD9Cs
5+bfo3Nhmcyvk5ftB0WkJ9z6bNZ7yxrP8wIDAQAB
-----END RSA PUBLIC KEY-----

# Collection Settings
TELEGRAM_MAX_CONCURRENT_SESSIONS=5
TELEGRAM_RATE_LIMIT_PER_SECOND=30
TELEGRAM_BATCH_SIZE=1000
TELEGRAM_COLLECTION_TIMEOUT_SECONDS=300

# =============================================================================
# BLOCKCHAIN CONFIGURATION (FREE PUBLIC RPCs)
# =============================================================================
# Ethereum (FREE Public RPC)
ETHEREUM_RPC_URL=https://ethereum.publicnode.com
ETHEREUM_CHAIN_ID=1
ETHEREUM_ENABLED=true

# Polygon (FREE Public RPC)
POLYGON_RPC_URL=https://polygon.publicnode.com
POLYGON_CHAIN_ID=137
POLYGON_ENABLED=true

# BSC (FREE Public RPC)
BSC_RPC_URL=https://bsc.publicnode.com
BSC_CHAIN_ID=56
BSC_ENABLED=true

# IPFS Configuration (FREE Local)
IPFS_NODE_URL=http://localhost:5001
IPFS_GATEWAY_URL=http://localhost:8080

# =============================================================================
# KAFKA CONFIGURATION (FREE - Local)
# =============================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092
KAFKA_GROUP_ID=intelligence-system-supabase
KAFKA_AUTO_OFFSET_RESET=latest
KAFKA_ENABLE_AUTO_COMMIT=true
KAFKA_SESSION_TIMEOUT_MS=30000
KAFKA_HEARTBEAT_INTERVAL_MS=3000
KAFKA_MAX_POLL_INTERVAL_MS=300000

# =============================================================================
# MONITORING CONFIGURATION (FREE - Local)
# =============================================================================
# Prometheus (FREE)
PROMETHEUS_ENDPOINT=http://localhost:9090
PROMETHEUS_PORT=9090

# Jaeger Tracing (FREE)
JAEGER_ENDPOINT=http://localhost:14268/api/traces
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# Grafana (FREE)
GRAFANA_URL=http://localhost:3000
GRAFANA_ADMIN_PASSWORD=admin

# =============================================================================
# ELASTICSEARCH CONFIGURATION (FREE - Local)
# =============================================================================
ELASTICSEARCH_URL=http://localhost:9200
ELASTICSEARCH_INDEX_PREFIX=ai_intel_supabase
ELASTICSEARCH_USERNAME=
ELASTICSEARCH_PASSWORD=

# =============================================================================
# SERVER CONFIGURATION (FREE - Local)
# =============================================================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080
SERVER_WORKERS=2  # Reduced for free tier
SERVER_MAX_CONNECTIONS=100  # Reduced for free tier
SERVER_TIMEOUT_SECONDS=30
SERVER_ENABLE_CORS=true
SERVER_CORS_ORIGINS=*

# =============================================================================
# ANALYTICS CONFIGURATION (FREE - Reduced Resources)
# =============================================================================
ANALYTICS_BATCH_SIZE=100  # Reduced for free tier
ANALYTICS_PROCESSING_INTERVAL_SECONDS=300  # Reduced frequency
ANALYTICS_ENABLE_REAL_TIME=true  # Enabled with Supabase Realtime
ANALYTICS_MAX_MEMORY_USAGE_MB=1024  # Reduced for free tier
ANALYTICS_CPU_LIMIT_PERCENT=50.0  # Reduced for free tier
ANALYTICS_ENABLE_PARALLEL_PROCESSING=false  # Disabled for free tier
ANALYTICS_ENABLE_DISTRIBUTED_PROCESSING=false  # Disabled for free tier
ANALYTICS_CHUNK_SIZE=100  # Reduced for free tier
ANALYTICS_MAX_RETRIES=2  # Reduced for free tier
ANALYTICS_RETRY_DELAY_SECONDS=5

# =============================================================================
# AGENT CONFIGURATION (FREE - Reduced Resources)
# =============================================================================
AGENTS_MAX_CONCURRENT_AGENTS=2  # Reduced for free tier
AGENTS_AGENT_TIMEOUT_SECONDS=60  # Reduced for free tier
AGENTS_COMMUNICATION_TIMEOUT_SECONDS=10  # Reduced for free tier
AGENTS_RETRY_ATTEMPTS=2  # Reduced for free tier
AGENTS_RETRY_DELAY_SECONDS=3  # Reduced for free tier

# =============================================================================
# PROFILE ANALYSIS CONFIGURATION (FREE - Reduced Features)
# =============================================================================
PROFILE_ANALYSIS_NFT_ENABLED=false  # Disabled for free tier
PROFILE_ANALYSIS_NFT_CHAINS=
PROFILE_ANALYSIS_NFT_REFRESH_INTERVAL=7200  # Reduced frequency
PROFILE_ANALYSIS_CHANNEL_LINKS_ENABLED=true
PROFILE_ANALYSIS_CHANNEL_LINKS_MAX_DEPTH=2  # Reduced for free tier
PROFILE_ANALYSIS_CHANNEL_LINKS_CACHE_DURATION=43200  # Reduced for free tier
PROFILE_ANALYSIS_MUTUAL_CHANNELS_ENABLED=true
PROFILE_ANALYSIS_MUTUAL_CHANNELS_MIN_CONNECTIONS=3  # Increased threshold
PROFILE_ANALYSIS_MUTUAL_CHANNELS_SIGNIFICANCE_THRESHOLD=0.7  # Increased threshold

# =============================================================================
# THREAT INTELLIGENCE CONFIGURATION (FREE - Basic Features)
# =============================================================================
THREAT_INTELLIGENCE_OSINT_ENABLED=true
THREAT_INTELLIGENCE_BLOCKCHAIN_EXPLORER_ENABLED=false  # Disabled for free tier
THREAT_INTELLIGENCE_SOCIAL_MEDIA_INTEL_ENABLED=true
THREAT_INTELLIGENCE_DARK_WEB_MONITOR_ENABLED=false  # Disabled for free tier
THREAT_INTELLIGENCE_RISK_ASSESSMENT_LOW_THRESHOLD=0.5  # Increased threshold
THREAT_INTELLIGENCE_RISK_ASSESSMENT_MEDIUM_THRESHOLD=0.7  # Increased threshold
THREAT_INTELLIGENCE_RISK_ASSESSMENT_HIGH_THRESHOLD=0.9  # Increased threshold

# =============================================================================
# API ENDPOINTS CONFIGURATION (FREE - Reduced Limits)
# =============================================================================
API_ENABLED=true
API_RATE_LIMIT_ENABLED=true
API_RATE_LIMIT_REQUESTS=100  # Increased with Supabase
API_RATE_LIMIT_WINDOW_SECONDS=60
API_CORS_ENABLED=true
API_CORS_ORIGINS=*

# =============================================================================
# STORAGE CONFIGURATION (Supabase Storage)
# =============================================================================
# Supabase Storage (FREE - 1GB)
SUPABASE_STORAGE_MAX_SIZE_MB=1000  # 1GB limit for free tier
SUPABASE_STORAGE_PUBLIC_BUCKET=intelligence-public
SUPABASE_STORAGE_PRIVATE_BUCKET=intelligence-private

# Local Storage (backup)
LOCAL_STORAGE_PATH=./data/
LOCAL_STORAGE_MAX_SIZE_MB=500  # 500MB limit for free tier

# =============================================================================
# BACKUP CONFIGURATION (Supabase + Local)
# =============================================================================
BACKUP_ENABLED=true
BACKUP_INTERVAL_HOURS=24
BACKUP_RETENTION_DAYS=7  # Reduced for free tier
BACKUP_SUPABASE_ENABLED=true
BACKUP_LOCAL_PATH=./backups/

# =============================================================================
# SUPABASE FREE TIER LIMITS
# =============================================================================
# Supabase Free Tier Limits
SUPABASE_MAX_DB_SIZE_MB=500  # 500MB database
SUPABASE_MAX_STORAGE_MB=1000  # 1GB file storage
SUPABASE_MAX_USERS=50000  # 50k monthly active users
SUPABASE_MAX_FUNCTION_INVOCATIONS=2000000  # 2M edge function invocations

# Maximum concurrent users
MAX_CONCURRENT_USERS=10  # Increased with Supabase
# Maximum data storage (MB)
MAX_DATA_STORAGE_MB=1000
# Maximum API calls per hour
MAX_API_CALLS_PER_HOUR=1000  # Increased with Supabase
# Maximum processing time per request (seconds)
MAX_PROCESSING_TIME_SECONDS=30

# =============================================================================
# SUPABASE FEATURES ENABLED
# =============================================================================
# Authentication
SUPABASE_AUTH_PROVIDERS=email,github,google
SUPABASE_AUTH_CONFIRM_EMAIL=true
SUPABASE_AUTH_CONFIRM_PHONE=false

# Database Features
SUPABASE_DB_POOL_SIZE=10
SUPABASE_DB_MAX_CONNECTIONS=20
SUPABASE_DB_CONNECTION_TIMEOUT=30

# Realtime Features
SUPABASE_REALTIME_CHANNELS=intelligence_updates,user_events,system_alerts
SUPABASE_REALTIME_ENABLED=true

# Edge Functions (if needed)
SUPABASE_EDGE_FUNCTIONS_ENABLED=false
SUPABASE_EDGE_FUNCTIONS_URL=https://eibtrlponekyrwbqcott.supabase.co/functions/v1/
